<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>计算属性</title>
  <script src="js/vue.js"></script>

  <script>
    window.onload = function () {
      // 一个店铺，15元一份， 2份  8折  配送费5元
      new Vue({
        el:'#my',// 挂载元素
        data:{// 数据
          info:{
            name:'汉堡大王',
            price:15,
            count:1,

          },
          sale:0.8,
          feright:5,
          data:0,
          num:100
        },
        methods:{ //方法
          tototalFreight:function () {//计算方法
            this.data = this.info.price*this.info.count*this.sale+this.feright;
          },
         /* change:function () {
            console.log(this.num2);
            this.num2 = 50;  //不能直接修改,直接修改会报错
          }*/
          change:function () {
            console.log(this.num2);
            this.num += 1;
          }
        },
        computed:{// 计算属性
          total:function () {//es5
            return this.info.price*this.info.count*this.sale+this.feright;
          },
          total2(){//es6
            return this.info.price*this.info.count*this.sale+this.feright;

          },
         /* num2:function () {
            return this.num
          }*/
         num2:{
           get:function () {
             return this.num
           },
           set:function (val) {
             this.num = val;
           }
         }
        }

      })
    }
  </script>
</head>

<body>
<div id="my">
<div>您购买了{{info.name}}共{{info.count}}份</div>
  <h1>总价（es5）：{{total}}</h1>
  <h6>总价（es6）：{{total2}}</h6>

  <div>
    套餐：<input type="text" v-model="info.name"/>
    数量：<input type="text" v-model="info.count"/>
    <h1>总价：{{total}}</h1>
  </div>
  <button @click="tototalFreight">结算</button>
  <h1>总价：{{data}}</h1>


  <h2>num:{{num}}</h2>
  <h2>计算属性num2:{{num2}}</h2>
  <button @click="change">改变计算属性的值</button>
</div>

</body>
</html>

